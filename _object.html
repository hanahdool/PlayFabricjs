<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <script src = "js/fabric.min.js"></script>
  <script src = "js/underscore.js"></script>
  <script src = "js/jquery.js"></script>
</head>
<body style="position:absolute">
<canvas id="canvas" width="1200" height="800" style="border: 1px solid black"></canvas>
<script>

  // 여러가지 형태의 객체 추가 (도형)
  // 테두리?
  // colorPicker ?




  var canvas = new fabric.Canvas('canvas');

  canvas.preserveObjectStacking = true; // 선택된 객체 무조건 앞 아니게!!! 순서대로!

  var rect = new fabric.Rect({ width: 100, height: 100, top: 100, left: 100, fill: 'rgba(255, 0, 0, 1)' });
  canvas.add(rect);

  var rect2 = new fabric.Rect({ width:50, height:50, top:200, left:100, fill:'rgba(0, 200, 0, 1)' });
  canvas.add(rect2);


//  $(document).ready(function() {
//
//    $('#canvas').keyup(function(e) {
//      console.log("눌림!");
////      $(e.target).val()
//    })
//
//  });

  canvas.on({ // 해당 캔버스 내부 어딘가를 건드렸을 경우
//    'object:moving' : updateControls,
//    'object:scaling' : updateControls,
//    'object:resizing' : updateControls, // 이건 뭐하는 경우인지. 다시불러올떄 였나?
//    'object:rotating' : updateControls,
    'object:moving' : function(){ console.log("눌림!!!"); },
    'keyboard:keyup' : function(){ console.log("눌림!!!"); },
    'mouse:down' : function(){ console.log("눌림!!!"); },
    'mouse:up' : function(){ console.log("up"); }
  });


  canvas.getActiveObject().set({ fill: 'rgba(255, 0, 0, 0.5)' });
  _.each(canvas.deactivateAll(), function(o){ console.log(o);});

//  canvas.getActiveObject().left += 5;
  canvas.renderAll();



</script>
</body>
</html>