<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <script src = "js/fabric.min.js"></script>
  <script src = "js/underscore.js"></script>
  <script src = "js/jquery.js"></script>
</head>
<body style="position:absolute">


<canvas id="canvas" width="1200" height="800" style="border: 1px solid black"></canvas>
<script>

  var canvas = new fabric.Canvas('canvas');


  // Converts canvas to an image
  function convertCanvasToImage(canvas, callback) {
    var image = new Image();
    image.onload = function(){
      callback(image);
    }
    image.src = canvas.toDataURL("image/png");
  }



  // 2
  var can = document.getElementById('canvas1');
  var ctx = can.getContext('2d');

  ctx.fillRect(50,50,50,50);

  var img = new Image();
  img.src = can.toDataURL();
  document.body.appendChild(img);



  //3

  var canvas = document.getElementById("mycanvas");
  var img    = canvas.toDataURL("image/png");

  document.write('<img src="'+img+'"/>');




  // 4
  var canvas = $("#myCanvas");
  var context = canvas.get(0).getContext("2d");

  context.save();
  context.fillRect(50, 50, 100, 100);

  context.fillStyle = "rgb(255, 0, 0)";
  context.fillRect(100, 100, 100, 100);

  context.restore();
  context.fillRect(150, 150, 100, 100);

  var dataURL = canvas.get(0).toDataURL();
  var img = $("<img></img>");
  img.attr("src", dataURL);

  canvas.replaceWith(img);

</script>

</body>
</html>